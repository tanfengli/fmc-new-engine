<meta charset="utf-8" /> 
<style>
   .cal_input{
    width: 50px;
    margin:2px;
    font-weight: bold;
  }
</style>
<div class="modal" id="formulaModal"  data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index:9999">
    <div class="modal-dialog">
        <div class="modal-content" style="height:500px;">
		    <div class="modal-header">
                <button type="button"  class="close" onclick="$(this).parents('.modal:first').modal('hide')" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">公式定义器</h4>
            </div>
	             
            <div class="modal-body">
            	<!-- <div id="formulaTree" style="width:180px;float:left;height:600px"></div> -->
            	<div class="col-xs-4">
            		<div id="formulaTree" class="ztree" style="background: #FFFFFF;float:left; width: 100%;height:380px;overflow-y:scroll;overflow-x:auto;"></div>
            	</div>
            	<div class="col-xs-8">
            	<input type="hidden" name="formulaRegexIds" data-bind="formulaRegexIds" />
                <textarea class="form-control"  rows="10" style="width:442px;" id="formulaCompent" data-bind="value: formulaName , event: { change: changeText }"></textarea> 
                <table border="1">
                   <tr>
                     <td>
                        <input type="button" class="cal_input"class="cal_input" value="1"  
                        data-bind="click: function(data, event) { definedFormula('1', data, event) } ">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="2" data-bind="click: function(data, event) { definedFormula('2', data, event) }">  
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="3" data-bind="click: function(data, event) { definedFormula('3', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="/" data-bind="click: function(data, event) { definedFormula('/', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="(" data-bind="click: function(data, event) { definedFormula('(', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value=")" data-bind="click: function(data, event) { definedFormula(')', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="&&" data-toggle="tooltip" title="与" data-bind="click: function(data, event) { definedFormula('&&', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="||" data-toggle="tooltip" title="或" data-bind="click: function(data, event) { definedFormula('||', data, event) }">
                     </td>
                   </tr>
                   <tr>
                     <td>
                        <input type="button" class="cal_input"value="4" data-bind="click: function(data, event) { definedFormula('4', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="5" data-bind="click: function(data, event) { definedFormula('5', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="6" data-bind="click: function(data, event) { definedFormula('6', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="*" data-bind="click: function(data, event) { definedFormula('*', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="<" data-bind="click: function(data, event) { definedFormula('<', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value=">" data-bind="click: function(data, event) { definedFormula('>', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="!" data-toggle="tooltip" title="非" data-bind="click: function(data, event) { definedFormula('!', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="!=" data-toggle="tooltip" title="不等于" data-bind="click: function(data, event) { definedFormula('!=', data, event) }">
                     </td>
                   </tr>
                   <tr>
                     <td>
                        <input type="button" class="cal_input"value="7" data-bind="click: function(data, event) { definedFormula('7', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="8" data-bind="click: function(data, event) { definedFormula('8', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="9" data-bind="click: function(data, event) { definedFormula('9', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="—" data-bind="click: function(data, event) { definedFormula('—', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="<=" data-bind="click: function(data, event) { definedFormula('<=', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value=">=" data-bind="click: function(data, event) { definedFormula('>=', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value=";" data-bind="click: function(data, event) { definedFormula(';', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="," data-bind="click: function(data, event) { definedFormula(',', data, event) }">
                     </td>
                   </tr>
                   <tr>
                     <td>
                        <input type="button" class="cal_input" value="0" data-bind="click: function(data, event) { definedFormula('0', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="." data-bind="click: function(data, event) { definedFormula('.', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="%" data-bind="click: function(data, event) { definedFormula('%', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="+" data-bind="click: function(data, event) { definedFormula('+', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="=" data-toggle="tooltip" title="赋值" data-bind="click: function(data, event) { definedFormula('=', data, event) }">
                     </td>
                     <td>
                        <input type="button" class="cal_input"value="==" data-toggle="tooltip" title="等于" data-bind="click: function(data, event) { definedFormula('==', data, event) }">
                     </td>
                     <td colspan="2">
                        <input type="button" class="cal_input"value="Equals" data-toggle="tooltip" title="等于（用于对象比较）" style="width:105px;" data-bind="click: function(data, event) { definedFormula('.equals( )', data, event) }">
                     </td> 
                   </tr>
                   <tr>
                     <td>
                        <span style="font-weight: bold;">单据编号:</span>
                     </td>
                     <td colspan="5">
                        <input type="text" style="width:275px;">
                     </td>  
                     <td colspan="2">
                        <input type="button" class="cal_input" data-toggle="tooltip" title="根据编号模拟计算，并返回结果" value="模拟计算" style="width:105px;">
                     </td> 
                   </tr>
                </table>
                </div>
            </div>
            <div class="modal-footer" style="text-align: center">
              <!--  <button type="button"  class="btn btn-primary" data-dismiss="modal" data-bind="click: confirmFormula">确定</button>
               
                <button type="button"  class="btn btn-primary"  data-bind="click: clearFormula">清空</button>
                <button type="button"  class="btn btn-primary">校验</button>
                <button type="button"  class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button"  class="btn btn-default">帮助</button>  -->
                	<button type="button" class="btn btn-primary"   data-bind="click: passSelectNode">确定</button>
				                <button type="button"  class="btn btn-primary"  data-bind="click: clearFormula">清空</button>
               	 <button type="button"  class="btn btn-primary">校验</button>
				                <button type="button" class="btn btn-default" onclick="$(this).parents('.modal:first').modal('hide')">取消</button>                
            	 <button type="button"  class="btn btn-default">帮助</button>
            </div>
            	
		</div> 
	</div>
</div>